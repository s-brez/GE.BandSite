@page
@model GE.BandSite.Server.Pages.Contact.IndexModel
@{
    ViewData["Title"] = "Contact";
}

<div class="page" style="gap:24px !important;">
    <section class="page__section contact-hero" style="padding-top: 40px">
        <div class="contact-hero__copy">
            <p class="page-eyebrow"></p>
            <h1 class="page-title">@Model.HeroTitle</h1>
            <p class="page-lead">@Model.HeroLead</p>
        </div>
        <div class="contact-hero__manager">
            <span class="contact-hero__label">Direct enquiries</span>
            <p class="contact-hero__name">@Model.Manager.Name</p>
            <p class="contact-hero__title">@Model.Manager.Title</p>
            <a href="mailto:@Model.Manager.Email">@Model.Manager.Email</a>
            <a href="tel:@Model.Manager.PhoneDial">@Model.Manager.PhoneDisplay</a>
        </div>
    </section>

    <section class="page__section contact-form">
        <div class="contact-form__intro">
            @if (Model.SubmissionSucceeded)
            {
                <div class="contact-form__success" role="status">@Model.SubmissionMessage</div>
            }
        </div>
        <form class="contact-form__fields" method="post" asp-antiforgery="true" data-contact-form novalidate>
            <div asp-validation-summary="ModelOnly" class="validation-summary" role="alert" aria-live="assertive"></div>
            <div class="form-field">
                <label asp-for="Input.OrganizerName"></label>
                <input asp-for="Input.OrganizerName" required />
                <span class="validation-message" asp-validation-for="Input.OrganizerName"></span>
            </div>
            <div class="form-field">
                <label asp-for="Input.OrganizerEmail"></label>
                <input asp-for="Input.OrganizerEmail" required />
                <span class="validation-message" asp-validation-for="Input.OrganizerEmail"></span>
            </div>
            <div class="form-field">
                <label asp-for="Input.OrganizerPhone"></label>
                <input asp-for="Input.OrganizerPhone" />
                <span class="validation-message" asp-validation-for="Input.OrganizerPhone"></span>
            </div>
            <div class="form-field">
                <label asp-for="Input.EventType"></label>
                <select asp-for="Input.EventType" required>
                    <option value="">Select an event type</option>
                    @foreach (var option in Model.FormDefinition.EventTypes)
                    {
                        <option value="@option.Value">@option.Label</option>
                    }
                </select>
                <span class="validation-message" asp-validation-for="Input.EventType"></span>
            </div>
            <div class="form-field">
                <label asp-for="Input.EventDateTime"></label>
                <input asp-for="Input.EventDateTime" type="datetime-local" />
                <span class="validation-message" asp-validation-for="Input.EventDateTime"></span>
            </div>
            <div class="form-field">
                <label asp-for="Input.EventTimezone"></label>
                <select asp-for="Input.EventTimezone">
                    <option value="">Select timezone</option>
                    @foreach (var option in Model.FormDefinition.TimeZones)
                    {
                        <option value="@option.Value">@option.Label</option>
                    }
                </select>
                <span class="validation-message" asp-validation-for="Input.EventTimezone"></span>
            </div>
            <div class="form-field">
                <label asp-for="Input.Location"></label>
                <input asp-for="Input.Location" placeholder="City / Venue" />
                <span class="validation-message" asp-validation-for="Input.Location"></span>
            </div>
            <div class="form-field">
                <label asp-for="Input.PreferredBandSize"></label>
                <select asp-for="Input.PreferredBandSize" required>
                    <option value="">Select lineup</option>
                    @foreach (var option in Model.FormDefinition.BandSizes)
                    {
                        <option value="@option.Value">@option.Label</option>
                    }
                </select>
                <span class="validation-message" asp-validation-for="Input.PreferredBandSize"></span>
            </div>
            <div class="form-field form-field--full">
                <label asp-for="Input.Message"></label>
                <textarea asp-for="Input.Message" rows="4" placeholder="Share run-sheet goals, special songs, or production notes"></textarea>
                <span class="validation-message" asp-validation-for="Input.Message"></span>
            </div>
            <button type="submit" class="button button--primary">Book Now</button>
        </form>
    </section>

    <section class="page__section contact-faq">
        <div class="section-heading">
            <h2 class="section-heading__title">FAQ</h2>
        </div>
        <div class="contact-faq__grid">
            @foreach (var faq in Model.FaqEntries)
            {
                <article class="faq-card">
                    <h3>@faq.Question</h3>
                    <p>@faq.Answer</p>
                </article>
            }
        </div>
    </section>
</div>

@section Scripts
{
    <script src="~/js/contact-form.js" asp-append-version="true"></script>
}
